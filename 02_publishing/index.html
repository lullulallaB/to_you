<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ì˜¤ëŠ˜ë„ ì˜ ë²„í‹´ ë‹¹ì‹ ì—ê²Œ</title>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3DWM0Z2C6E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-3DWM0Z2C6E');
  </script>

  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
  <!-- index CSS -->
  <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <div class="controls" style="display: none;">
        <select id="langSelect">
          <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
          <option value="en">ğŸ‡ºğŸ‡¸ English</option>
          <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
          <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
        </select>
      </div>
      
      <h1 id="title">ì˜¤ëŠ˜ë„ ì˜ ë²„í‹´ <span>ë‹¹ì‹ </span>ì—ê²Œ</h1>
      <h2>ë°”ë¡œ ì§€ê¸ˆ, ë‹¹ì‹  ê³ì— ë¨¸ë¬´ë¥´ëŠ”<br/> ìœ„ë¡œì˜ í•œ ì¤„ì„ ë§Œë‚˜ë³´ì„¸ìš”.</h2>

      <div class="swiper-container"><div class="swiper-wrapper" id="cards"></div></div>
      <audio id="sound" src="bus_button.mp3" preload="auto"></audio>
      <div id="overlay"><div class="overlay-content">
          <button class="close-btn" id="overlayClose">â•³</button>
          <div id="overlayText">ë‚´ìš©</div>
          <div class="share-buttons">
            <button class="like-btn">â¤ï¸ ê³µê°</button>
            <button class="copy-btn">ğŸ“‹ ë³µì‚¬</button>
          </div>
        </div></div>
        <p style="font-size: 0.8rem;
        color: #888;
        text-align: center;
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);">
        Illustration by <a href="https://storyset.com/" target="_blank" style="color: #888; text-decoration: none;">Storyset</a>
        </p>
          
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script>
    // ë’¤ì§‘ê¸° ìƒíƒœ í”Œë˜ê·¸
    let hasFlipped = false;

    // ë‹¤êµ­ì–´ ì²˜ë¦¬: ì–¸ì–´ ì„ íƒì— ë”°ë¥¸ íƒ€ì´í‹€ ë³€ê²½
    const i18n = {
    ko: {
        title: 'ì˜¤ëŠ˜ë„ ì˜ ë²„í‹´ <span>ë‹¹ì‹ </span>ì—ê²Œ'
    },
    en: {
        title: 'To You Who Made It Through Today'
    },
    ja: {
        title: 'ä»Šæ—¥ã‚‚é ‘å¼µã£ãŸã‚ãªãŸã¸'
    },
    zh: {
        title: 'è‡´ä»Šå¤©ä¹ŸåŠªåŠ›æ’‘è¿‡æ¥çš„ä½ '
    }
    };
    
    const langSelect = document.getElementById('langSelect');
    langSelect.addEventListener('change', e => {
        document.getElementById('title').innerHTML = i18n[langSelect.value].title;
    });
    // ì´ˆê¸° íƒ€ì´í‹€ ì„¤ì •
    document.getElementById('title').innerHTML = i18n[langSelect.value].title;

    // ì¹´ë“œ ë¬¸ì¥ ë°ì´í„° ë°°ì—´
    const texts = [
        "ë‚¨ë“¤ì€ ì˜ ì‚¬ëŠ” ê²ƒ ê°™ì•„ë„, ë‹¤ ìê¸°ë§Œì˜ ì „ìŸ ì¤‘ì´ì•¼.\nì˜¤ëŠ˜ë„ ì‚´ì•„ë‚¸ ë„ˆ, ì˜í•œ ê±°ì•¼.",
        "ë¬´ê¸°ë ¥í•œ ë‚ ì´ ê³„ì†ëœë‹¤ê³  í•´ì„œ,\në„¤ê°€ ê²Œìœ¼ë¥¸ ì‚¬ëŒì´ ë˜ëŠ” ê±´ ì•„ë‹ˆì•¼.",
        "ì•„ë¬´ê²ƒë„ ì•ˆ í•´ë„ ê´œì°®ì•„.\nìˆ¨ ì‰¬ëŠ” ê²ƒë„ ìš”ì¦˜ ê°™ì€ ë‚ ì—” ì¶©ë¶„íˆ í°ì¼ì´ì•¼.",
        "ë§ˆìŒì´ ëŠ¦ê²Œ ë”°ë¼ì˜¬ ë•Œë„ ìˆì–´.\nì¡°ê¸‰í•˜ì§€ ì•Šì•„ë„ ë¼.",
        "ë²„í‹´ë‹¤ëŠ” ê±´,\n ë©‹ì§„ ì„ íƒì´ ì•„ë‹ˆë¼ í•„ìš”í•œ ì„ íƒì¼ ë•Œê°€ ë§ì•„.\nê·¸ê±¸ í•´ë‚¸ ë„Œ ëŒ€ë‹¨í•´.",
        "ë‚¨ë“¤ì´ ì•ˆ ë³¸ë‹¤ê³  í•´ì„œ\në„ˆì˜ ì• ì”€ê¹Œì§€ ì‚¬ë¼ì§€ëŠ” ê±´ ì•„ë‹ˆì•¼.",
        "í•˜ë£¨ë¥¼ ë²„í…¼ë‹¤ëŠ” ê±´,\nì˜¤ëŠ˜ í•´ì•¼ í•  ê°€ì¥ ì¤‘ìš”í•œ ì¼ì„ í•´ë‚¸ ê±°ì•¼.",
        "ê´œì°®ì€ ì²™ë„ ì‚¬ì‹¤,\nì–¼ë§ˆë‚˜ ìš©ê¸° ë‚´ê³  ìˆëŠ” ê±´ì§€ ë‚œ ì•Œì•„.",
        "ì¼ì´ ì•ˆ í’€ë¦¬ëŠ” ë‚ ì´ ê³„ì†ë¼ë„,\nê·¸ê²Œ ë„ˆ ìì²´ì˜ ê°€ì¹˜ë‘ì€ ì•„ë¬´ ìƒê´€ì—†ì–´.",
        "ê°€ë”ì€ ì•„ë¬´ ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì€ í•˜ë£¨ê°€,\nê°€ì¥ í‰í™”ë¡œìš´ ì„±ê³¼ì•¼.",
        "ì˜¤ëŠ˜ ì•ˆ ìš¸ì—ˆìœ¼ë©´,\nê·¸ê±¸ë¡œ ì´ë¯¸ ìƒ ì¤˜ì•¼ í•´.",
        "í•˜ê¸° ì‹«ì€ ê±¸ â€˜ì•ˆ í–ˆë‹¤â€™ëŠ” ê²ƒë„\nì‚¬ì‹¤ êµ‰ì¥í•œ ê²°ë‹¨ë ¥ì´ì•¼.",
        "ê¸°ë¶„ì´ ì°Œë¿Œë‘¥í•œ ë‚ ì—”\nì´ë¶ˆì´ ë‚  ì•ˆì•„ì¤˜ì•¼ í•˜ê±°ë“ .",
        "ë¬´ê¸°ë ¥ë„ ìš”ì¦˜ íŠ¸ë Œë“œì•¼.\në„Œ ê·¸ëƒ¥ ìœ í–‰ ë¹ ë¥¸ ê±°ì•¼.",
        "ì¼ë‹¨ ë²„í…¼ìœ¼ë©´ ëŒ€ë‹¨í•œ ê±°ì•¼.\nì¤‘ê°„ì— í‡´ì‚¬ ì•ˆ í–ˆì–ì•„, ì¸ìƒì—ì„œ.",
        "ë„¤ê°€ ì§€ê¸ˆ ì´ê±¸ ì½ê³  ìˆë‹¤ëŠ” ê±´,\nì•„ì§ ì•ˆ ë§í–ˆë‹¤ëŠ” ì¦ê±°ì•¼.",
        "ë§ˆìŒì´ ì‹œë¬´ë£©í•˜ë©´,\nì•„ë¬´ ì´ìœ  ì—†ì´ ë°¥ì„ ë¨¹ì–´ë„ ë¼.",
        "ì˜í•œ ê²Œ ì—†ë‹¤ëŠ” ë§, ì¢€ ê±°ì§“ë§ ê°™ì•„.\nì˜¤ëŠ˜ ìˆ¨ ì‰¬ì—ˆì–ì•„.",
        "ì•„ë¬´ê²ƒë„ ì•ˆ í•˜ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì¡°ì°¨ ì•ˆ ë‚˜ëŠ” ë‚ ë„ ìˆì§€.\nê·¸ëŸ´ ë• ê·¸ëƒ¥ ë©ì´ ì •ë‹µì´ì•¼.",
        "ê³„íšì´ ì—†ì–´ì„œ ë§í•œ ê²Œ ì•„ë‹ˆì•¼.\nê·¸ëƒ¥ ì˜¤ëŠ˜ì€ ë§ˆìŒì´ íšŒì˜ ì¤‘ì´ì—ˆë˜ ê±°ì•¼.",
        "ê´œì°®ë‹¤ê³  ë§ ì•ˆ í•´ë„ ë¼.\nì•ˆ ê´œì°®ì€ ê±°, ê´œì°®ì•„.",
        "ë„¤ê°€ ë­˜ í•˜ë“  ë‚˜ëŠ” ë„¤ í¸ì´ì•¼.\në„¤ê°€ ì•„ë¬´ê²ƒë„ ì•ˆ í•´ë„... ë‚œ ê·¸ë˜ë„ ë„¤ í¸ì´ì•¼.",
        "ì˜¤ëŠ˜ ë§í•œ ê±° ê°™ë‹¤ê³ ?\në‚´ ê¸°ì¤€ì—ì„  ì™„ì „ ì„±ê³µì¸ë°?",
        "ì•„ì§ ì‹œì‘ë„ ì•ˆ í–ˆë‹¤ê³ ?\nì•¼ ê·¸ê²Œ ë˜‘ë˜‘í•œ ê±°ì•¼. ì²´ë ¥ ì•„ë¼ëŠ” ê±°.",
        "í•˜ë£¨ ì¢…ì¼ ëˆ„ì›Œë§Œ ìˆì—ˆì–´ë„,\nê·¸ê±´ â€˜ì—ë„ˆì§€ ì¬ì •ë¹„â€™ì˜€ë˜ ê±¸ë¡œ í• ê²Œ.",
        "ì†”ì§íˆ ì´ ì •ë„ë©´\nê·¸ëƒ¥ â€˜ì‚¬ëŠ” ê²ƒ ìì²´â€™ê°€ ì—„ì²­ë‚œ ì—…ì  ì•„ë‹˜?",
        "ìì±…í•  ì‹œê°„ì— ë¼ë©´ í•˜ë‚˜ ë“ì—¬ ë¨¹ì–´.\níƒ„ìˆ˜í™”ë¬¼ì´ ìš°ì„ ì´ì•¼.",
        "í¬ê¸°í•œ ê²Œ ì•„ë‹ˆì•¼. ì „ëµì  ìœ ë³´ì§€.\nì§€ê¸ˆ ì ê¹ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘ì´ì•¼.",
        "ê·¸ëƒ¥ ìˆ¨ ì‰¬ê³  ìˆë‹¤ëŠ” ê²ƒë§Œìœ¼ë¡œë„,\nì„¸ìƒì— ê¸°ì—¬í•˜ê³  ìˆì–´.",
        "ê³„íšì´ í‹€ì–´ì§„ ê²Œ ì•„ë‹ˆë¼,\nìš°ì£¼ê°€ ë„ ìœ„í•´ ì•½ê°„ ìš°íšŒë¡œ íŠ¼ ê±°ì•¼."
    ];


    // ì¹´ë“œ ìš”ì†Œ ìƒì„± ë° DOMì— ì‚½ì…
    const wrapper = document.getElementById('cards');
    texts.forEach(txt => {
      const slide = document.createElement('div');
      slide.className = 'swiper-slide';
      slide.innerHTML = `
        <div class="card">
          <div class="card-inner">
            <div class="face front"></div>
            <div class="face back">${txt}</div>
          </div>
        </div>`;
      wrapper.append(slide);
    });

    // Swiper ì´ˆê¸°í™” (ê°€ë¡œ ìŠ¬ë¼ì´ë“œ ë ˆì´ì•„ì›ƒ)
    const swiper = new Swiper('.swiper-container', {
      slidesPerView: 'auto',
      grabCursor: true,
      spaceBetween: -60,
      speed: 500
    });

    // í´ë¦­ ì´ë²¤íŠ¸: ì¹´ë“œ ì„ íƒ, í”Œë¦½, íš¨ê³¼ìŒ ì¬ìƒ & íŒì—… í‘œì‹œ
    wrapper.addEventListener('click', e => {
      if (hasFlipped) return; // ì´ë¯¸ ë’¤ì§‘ì€ ì¹´ë“œê°€ ìˆìœ¼ë©´ ë¬´ì‹œ
      const slide = e.target.closest('.swiper-slide');
      if (!slide) return;

      // ì´ì „ ì„ íƒ í•´ì œ í›„ í˜„ì¬ ìŠ¬ë¼ì´ë“œì— selected í´ë˜ìŠ¤ ì¶”ê°€
      document.querySelectorAll('.swiper-slide.selected').forEach(s => s.classList.remove('selected'));
      slide.classList.add('selected');

      // ì¹´ë“œ í”Œë¦½ ì• ë‹ˆë©”ì´ì…˜
      const inner = slide.querySelector('.card-inner');
      inner.classList.add('flipped');
      hasFlipped = true;

      // ë°°ê²½ ìŠ¤í¬ë¡¤ ì ê¸ˆ
      document.body.classList.add('no-scroll');

      // íš¨ê³¼ìŒ ì¬ìƒ
      const sound = document.getElementById('sound');
      sound.currentTime = 0;
      sound.play().catch(() => {});

      // íŒì—…ì°½ í‘œì‹œ: ë’·ë©´ í…ìŠ¤íŠ¸ì™€ í•¨ê»˜
      const text = inner.querySelector('.back').textContent;
      document.getElementById('overlayText').textContent = text;
      document.getElementById('overlay').style.display = 'flex';
    });

    // â¤ï¸ ê³µê° í´ë¦­ ì‹œ
    document.querySelector('.like-btn').addEventListener('click', () => {
        const likedText = document.getElementById('overlayText').textContent;
        // ì½˜ì†” + GA ì´ë²¤íŠ¸ ì „ì†¡
        console.log('ê³µê° ëˆ„ë¦„:', likedText);
        if (window.gtag) {
            gtag("event", "like_button_click", {
            event_category: "engagement",
            event_label: likedText
            });
        }
        alert("ì´ ë¬¸ì¥ì— ê³µê°í•´ ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš” ğŸ¥¹");
    });

    // ğŸ“‹ ë³µì‚¬í•˜ê¸° í´ë¦­ ì‹œ
    document.querySelector('.copy-btn').addEventListener('click', () => {
        const text = document.getElementById('overlayText').textContent;
        navigator.clipboard.writeText(text).then(() => {
            alert("ğŸŒ¿ ìœ„ë¡œ í•œ ì¤„ì´ ë³µì‚¬ë˜ì—ˆì–´ìš”!\në‹¹ì‹ ì˜ í•˜ë£¨ì— ì‘ì€ í˜ì´ ë˜ê¸¸ ë°”ë„ê²Œìš”.");
        });
    });
    
    // íŒì—… ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸: ìƒíƒœ ì´ˆê¸°í™”
    document.getElementById('overlayClose').addEventListener('click', () => {
      document.getElementById('overlay').style.display = 'none';
      document.body.classList.remove('no-scroll');
      hasFlipped = false;
      const prevFlip = document.querySelector('.card-inner.flipped');
      if (prevFlip) prevFlip.classList.remove('flipped');
      document.querySelectorAll('.swiper-slide.selected').forEach(s => s.classList.remove('selected'));
    });

    window.addEventListener('DOMContentLoaded', () => {
    const count = 10;
    for (let i = 0; i < count; i++) {
      const circle = document.createElement('div');
      circle.classList.add('blur-circle');

      // ëœë¤ í¬ê¸° (50~150px)
      const size = Math.floor(Math.random() * 100) + 50;
      circle.style.width = `${size}px`;
      circle.style.height = `${size}px`;

      // ëœë¤ ìœ„ì¹˜ (viewport ê¸°ì¤€)
      const top = Math.random() * 100;
      const left = Math.random() * 100;
      circle.style.top = `${top}vh`;
      circle.style.left = `${left}vw`;

      document.body.appendChild(circle);
    }
  });
  </script>
</body>
</html>
